function agruparYSumarStock(data, campoAgrupacion) {
  const resultado = {};

  for (const item of data) {
    const claveGrupo = item[campoAgrupacion];

    if (!resultado[claveGrupo]) {
      resultado[claveGrupo] = 0;
    }

    resultado[claveGrupo] += parseInt(item.stock, 10);
  }

  return resultado;
}

// Ejemplo de uso:
const datos = /* Tu objeto de datos */;
const resultadoAgrupadoPorGrupo = agruparYSumarStock(datos.data, 'grupo_equipo');
const resultadoAgrupadoPorTipo = agruparYSumarStock(datos.data, 'tipo_equipo');

console.log('Resultado agrupado por Grupo:', resultadoAgrupadoPorGrupo);
console.log('Resultado agrupado por Tipo:', resultadoAgrupadoPorTipo);
