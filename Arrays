<!DOCTYPE html>
<html>
<head>
    <title>Iniciar Sesión</title>
    <script src="https://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha256.js"></script>
</head>
<body>
    <h2>Iniciar Sesión</h2>
    <form id="loginForm">
        <label for="username">Usuario:</label>
        <input type="text" id="username" name="username" required><br><br>

        <label for="password">Contraseña:</label>
        <input type="password" id="password" name="password" required><br><br>

        <button type="button" onclick="checkLogin()">Iniciar Sesión</button>
    </form>

    <p id="message"></p>

    <script>
        function checkLogin() {
            var username = document.getElementById("username").value;
            var password = document.getElementById("password").value;

            // Cifra la contraseña utilizando SHA-256
            var hashedPassword = CryptoJS.SHA256(password).toString(CryptoJS.enc.Hex);

            // Envia los datos cifrados al servidor
            $.post("auth.php", { username: username, password: hashedPassword }, function(data) {
                if (data === "success") {
                    document.getElementById("message").innerHTML = "Inicio de sesión exitoso";
                } else {
                    document.getElementById("message").innerHTML = "Usuario o contraseña incorrectos";
                }
            });
        }
    </script>
</body>
</html>
