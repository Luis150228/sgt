

hashpassword.js:4 Uncaught (in promise) TypeError: Cannot read properties of undefined (reading 'digest')
    at prossPws (hashpassword.js:4:41)
    at HTMLFormElement.<anonymous> (login.js:29:20)

    esta es la lina 29 del login.js: const psw = await prossPws(password);

    esta es el contenido completo de hashpassword.js:
    export const prossPws = async (password) => {
	const encoder = new TextEncoder();
	const data = encoder.encode(password);
	const hashBuffer = await crypto.subtle.digest('SHA-256', data);
	const hashArray = Array.from(new Uint8Array(hashBuffer));
	const hashHex = hashArray.map((byte) => byte.toString(16).padStart(2, '0')).join('');
	return hashHex;
};

if (crypto.subtle) {
  // Tu código que utiliza crypto.subtle
  const psw = await prossPws(password);
} else {
  console.error('La Web Cryptography API no está disponible en este entorno.');
}
https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js

// Importa CryptoJS desde el CDN, por lo que no es necesario usar 'require' o 'import'
// CryptoJS ya estará disponible globalmente
// No es necesario hacer 'npm install' para CryptoJS

// Esta función procesa la contraseña utilizando CryptoJS
const prossPws = (password) => {
    const hashedPassword = CryptoJS.SHA256(password).toString();
    return hashedPassword;
};

// Ejemplo de uso
const password = 'contraseña_a_hashear';
const hashedPassword = prossPws(password);
console.log(hashedPassword);
